%%{init: {
  'theme': 'dark',
  'themeVariables': {
    'primaryColor': '#1e1e1e',
    'primaryTextColor': '#ffffff',
    'primaryBorderColor': '#ffffff',
    'lineColor': '#ffffff',
    'secondaryColor': '#2d2d2d',
    'tertiaryColor': '#1e1e1e',
    'noteBkgColor': '#2d2d2d',
    'noteTextColor': '#ffffff',
    'noteBorderColor': '#ffffff'
  }
}}%%
graph TB
    subgraph Commands["Command Entry Points"]
        direction TB
        SettingsCmd["/settings"]
        FeedListCmd["/feed list"]
        FeedSubCmd["/feed subscribe"]
        FeedUnsubCmd["/feed unsubscribe"]
        VoiceLBCmd["/voice leaderboard"]
    end
    
    subgraph Navigation["Navigation Flow"]
        direction TB
        
        subgraph SettingsFlow["Settings Flow"]
            direction TB
            SettingsMain["SettingsMain"]
            SettingsFeeds["SettingsFeeds"]
            SettingsVoice["SettingsVoice"]
            SettingsAbout["SettingsAbout"]
            
            SettingsMain <-->|Feeds| SettingsFeeds
            SettingsMain <-->|Voice| SettingsVoice
            SettingsMain <-->|About| SettingsAbout
        end
        
        subgraph FeedFlow["Feed Flow"]
            direction TB
            FeedList["FeedList"]
            FeedSubscribe["FeedSubscribe"]
            FeedUnsubscribe["FeedUnsubscribe"]
            FeedBatch["FeedSubscriptionBatch"]
            
            FeedList <-->|Subscribe| FeedSubscribe
            FeedList <-->|Unsubscribe| FeedUnsubscribe
            FeedSubscribe -->|Multiple| FeedBatch
        end
        
        subgraph VoiceFlow["Voice Flow"]
            direction TB
            VoiceLeaderboard["VoiceLeaderboard"]
            VoiceStats["VoiceStats"]
            
            VoiceLeaderboard -->|Stats| VoiceStats
        end
    end
    
    Commands -->|settings| SettingsMain
    Commands -->|list| FeedList
    Commands -->|subscribe| FeedSubscribe
    Commands -->|unsubscribe| FeedUnsubscribe
    Commands -->|leaderboard| VoiceLeaderboard
    
    SettingsMain -->|Exit| Exit1[Exit]
    FeedList -->|Exit| Exit2[Exit]
    FeedSubscribe -->|Exit| Exit3[Exit]
    VoiceLeaderboard -->|Exit| Exit4[Exit]
    
    style SettingsMain fill:#2d2d2d,stroke:#ffffff,stroke-width:3px
    style SettingsFeeds fill:#1e1e1e,stroke:#ffffff
    style SettingsVoice fill:#1e1e1e,stroke:#ffffff
    style SettingsAbout fill:#1e1e1e,stroke:#ffffff
    style FeedList fill:#1e1e1e,stroke:#ffffff
    style FeedSubscribe fill:#1e1e1e,stroke:#ffffff
    style FeedUnsubscribe fill:#1e1e1e,stroke:#ffffff
    style FeedBatch fill:#1e1e1e,stroke:#ffffff
    style VoiceLeaderboard fill:#2d2d2d,stroke:#ffffff,stroke-width:3px
    style VoiceStats fill:#1e1e1e,stroke:#ffffff
